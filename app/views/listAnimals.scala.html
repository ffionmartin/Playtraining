@(animals: Seq[Animal], form: Form[Animal])(implicit messages: Messages)

@display(animal: Animal) = {
    @animal.description <a href="@routes.Application.findByIndex(animal.index.get)">edit</a><br/>
}


@index = @{
    if (animals.size > 0) {
        form.data.getOrElse("index", animals.last.index.get +1)
    } else {
        0
    }
}

@main("Animals") {

    <h1>@if(animals.isEmpty) { No animals } else { Animals }</h1>
    <ul>
    @for(animal <- animals) {
        <li>@display(animal)</li>
    }
    </ul>

    @helper.form(action = routes.Application.createAnimal(), 'enctype -> "multipart/form-data") {
        <input type="hidden" name="index" value="@form.data.getOrElse("index", animals.size)"/>
        @helper.inputText(form("animalId"))
        @helper.inputText(form("animalType"))
        @helper.inputText(form("price"))
        @helper.inputText(form("description"))
        @helper.inputText(form("age"))
        @helper.inputText(form("seller"))
        <button type="submit" name="action" value="save">save</button>
        <button type="submit" name="action" value="delete">delete</button>
    }

}


